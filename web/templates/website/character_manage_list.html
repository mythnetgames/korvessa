{% extends "website/base.html" %}

{% block extra_head %}
  <link rel="stylesheet" type="text/css" href="{% static 'website/css/custom.css' %}">
{% endblock %}
{% block titleblock %}
Manage Sleeves
{% endblock %}

{% block content %}

{% load addclass %}
<style>
  /* Terminal aesthetic hover effects - Blade Runner edition */
  .sleeve-name-link:hover {
    color: #5fd38d !important;
    text-shadow: 0 0 8px rgba(95, 211, 141, 0.3);
  }
  
  .archive-link:hover {
    color: #e85555 !important;
    text-shadow: 0 0 8px rgba(232, 85, 85, 0.4);
  }
</style>

<div class="row">
  <div class="col">
    <div class="card bg-dark border-secondary">
      <div class="card-body">
        <h1 class="card-title text-uppercase" style="font-family: 'Courier New', monospace; letter-spacing: 0.1em;">Sleeve Inventory</h1>
        <hr class="border-secondary" />

        {% if object_list %}
        <div class="table-responsive">
          <table class="table table-dark table-sm" style="font-family: 'Courier New', monospace;">
            <thead class="border-secondary">
              <tr class="text-uppercase" style="font-size: 0.85rem; letter-spacing: 0.05em;">
                <th class="border-secondary" style="width: 40%;">Designation</th>
                <th class="border-secondary" style="width: 30%;">Decanted</th>
                <th class="border-secondary" style="width: 20%;">Status</th>
                <th class="border-secondary" style="width: 10%;"></th>
              </tr>
            </thead>
            <tbody>
              {% for object in object_list %}
              <tr class="border-secondary">
                <td class="border-secondary">
                  <a href="{{ object.web_get_detail_url }}" class="text-white sleeve-name-link" style="text-decoration: none;">
                    {{ object }}
                  </a>
                </td>
                <td class="border-secondary text-muted">
                  {{ object.db_date_created|date:"Y-m-d H:i" }}
                </td>
                <td class="border-secondary">
                  {% if object.db.archived %}
                    <span class="text-warning">ARCHIVED</span>
                  {% else %}
                    <span class="text-success">ACTIVE</span>
                  {% endif %}
                </td>
                <td class="border-secondary">
                  {% if not object.db.archived %}
                    <a href="{{ object.web_get_delete_url }}" class="text-warning archive-link" style="font-size: 0.85rem; text-decoration: none;">
                      [ARCHIVE]
                    </a>
                  {% endif %}
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        
        <div class="mt-3 text-muted" style="font-family: 'Courier New', monospace; font-size: 0.85rem;">
          {{ object_list|length }} sleeve(s) on record
        </div>
        {% else %}
        <div class="alert alert-dark border-secondary" style="font-family: 'Courier New', monospace;">
          <p class="mb-0">NO SLEEVES ON RECORD</p>
          <p class="mb-0 mt-2">
            <a href="{% url 'character-create' %}" class="text-warning">[INITIATE DECANTING PROCESS]</a>
          </p>
        </div>
        {% endif %}
          
      </div>
    </div>
  </div>
</div>
{% endblock %}
